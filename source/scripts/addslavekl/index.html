<!doctype html><html lang=en class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.85.0"><meta name=description content><link rel=icon href=../../../images/favicon.png type=image/png><title>addSlaveKL.cmd :: ecmccfg</title><link href=../../../css/nucleus.css?1628774329 rel=stylesheet><link href=../../../css/fontawesome-all.min.css?1628774329 rel=stylesheet><link href=../../../css/hybrid.css?1628774329 rel=stylesheet><link href=../../../css/featherlight.min.css?1628774329 rel=stylesheet><link href=../../../css/perfect-scrollbar.min.css?1628774329 rel=stylesheet><link href=../../../css/auto-complete.css?1628774329 rel=stylesheet><link href=../../../css/atom-one-dark-reasonable.css?1628774329 rel=stylesheet><link href=../../../css/theme.css?1628774329 rel=stylesheet><link href=../../../css/tabs.css?1628774329 rel=stylesheet><link href=../../../css/hugo-theme.css?1628774329 rel=stylesheet><link href=../../../css/theme-green.css?1628774329 rel=stylesheet><script src=../../../js/jquery-3.3.1.min.js?1628774329></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}:not(pre)>code+span.copy-to-clipboard{display:none}</style></head><body data-url=../../../source/scripts/addslavekl/><nav id=sidebar><div id=header-wrapper><div id=header><a id=logo href=../../../><svg id="layer" viewBox="0 0 600 300" sodipodi:docname="ecmcLogo.svg" width="260" height="130" inkscape:version="1.1 (c4e8f9e, 2021-05-24)" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg"><defs id="defs173"/><sodipodi:namedview id="namedview171" pagecolor="#ffffff" bordercolor="#666666" borderopacity="1" inkscape:pageshadow="2" inkscape:pageopacity="0" inkscape:pagecheckerboard="0" showgrid="false" height="651" inkscape:zoom=".6901134" inkscape:cx="497.01977" inkscape:cy="322.41078" inkscape:window-width="1729" inkscape:window-height="997" inkscape:window-x="1713" inkscape:window-y="25" inkscape:window-maximized="0" inkscape:current-layer="layer"/><style id="style108">.st0{fill:#e2001a}</style><polygon points="585,277.7 466,277.7 518.9,319.8 518.9,299.9 585,299.9" id="polygon110" transform="translate(-2.8980745,-220.25366)"/><polygon class="st0" points="373.6,269.2 585,269.2 532.1,227.1 532.1,247 373.6,247" id="polygon112" transform="translate(-2.8980745,-220.25366)"/><path d="m286.00193 113.84634c4.3.0 8.5-1 12.9-2.8l-6.4 21.5c-3.4.7-7.2 1.2-10.7 1.2-21.2.0-38.2-13.1-38.2-39.799998.0-25.1 17.7-37.7 38.2-37.7 6.8.0 10.8 1 17.3 2.4v19.8c-4-1.5-8.1-2.8-12.2-2.8-10.4.0-18.3 6.6-18.3 18.8.0 12.899998 7.3 19.399998 17.4 19.399998" id="path146"/><path d="m338.20193 73.746342h.2l6.9 24.6h-14.1zm-38.7 58.799998h24.4l3.9-16.2h20.6l4.2 16.2h25.6l-22.7-74.999998h-33.7z" id="path150"/><g id="g154" transform="translate(-2.8980745,-220.25366)"><path d="m98.2 342.3c-1.8.8-3.6 1.5-6 1.5-4.4.0-6.1-2.5-6.1-9.2v-34.8h12.1v-7.9H86.1v-20.8h-9.7v20.8H67v7.9h9.4v37.9c0 10.4 4.7 14 13.6 14 2.7.0 5.9-.7 8.2-1.5z" id="path152"/></g><polygon points="58.1,279.7 58.1,270.9 20.6,270.9 20.6,351.6 59.6,351.6 59.6,342.8 30.7,342.8 30.7,314.2 56.9,314.2 56.9,305.4 30.7,305.4 30.7,279.7" id="polygon156" transform="translate(-2.8980745,-220.25366)"/><g id="g166" transform="translate(-2.8980745,-220.25366)"><path d="m106.4 351.6h9.7v-35.5c0-10.6 4.9-16 12.5-16 6.2.0 9.7 4 9.7 13.4v38h9.7v-40.9c0-12.9-6.9-18.8-17.2-18.8-6.8.0-11.9 3.9-14.4 8.9h-.2V271h-9.7v80.6z" id="path158"/><path d="m169.4 317.6c.2-13.8 5.8-18.4 12-18.4 7.7.0 11.6 6.1 11.6 18.4zm33.3 7.4v-5.2c0-17.3-7.4-28-20.7-28-14.7.0-22.8 11.8-22.8 30.3s8.1 30.3 23.7 30.3c5.9.0 11.9-1.3 16.5-3.5l-.5-8.8c-3.3 2.4-8.7 4.9-13.5 4.9-10.8.0-16.1-6.4-16.1-20z" id="path160"/><path d="m213.4 351.6h9.7v-31.2c0-12.8 5.3-19.3 12.8-19.3 1.3.0 2.5.1 3.7.3v-9.6c-8.7.0-13.6 2.9-16.8 10.1h-.2l-.3-9.2h-9.4c.1 4.2.5 8.4.5 12.7z" id="path162"/><path d="m445.9 353.4c6.1.0 11-4.9 11-11s-4.9-11-11-11-11 4.9-11 11 5 11 11 11m0-2.1c-4.6.0-8.3-3.7-8.3-8.9s3.7-8.9 8.3-8.9 8.3 3.7 8.3 8.9-3.7 8.9-8.3 8.9m-4.2-2.7h2.3v-5.4h1.4l3.2 5.4h2.4l-3.4-5.5c2-.2 3.3-1.2 3.3-3.4.0-2.6-1.6-3.7-4.6-3.7h-4.6zm2.3-10.7h2.1c1.2.0 2.5.2 2.5 1.7.0 1.7-1.2 1.9-2.6 1.9h-2z" id="path164"/></g><polygon points="452.9,277.7 452.9,299.9 425.5,299.9 425.5,352.7 401,352.7 401,299.9 373.6,299.9 373.6,277.7" id="polygon168" transform="translate(-2.8980745,-220.25366)"/><g id="g800" transform="matrix(4,0,0,4,14.601926,121.24634)"><g id="g772"><rect x="10" y="10" fill="#455a64" width="19" height="6" id="rect764"/><path fill="#455a64" d="m9 43h30v-2c0-1.1-.9-2-2-2H11c-1.1.0-2 .9-2 2z" id="path766"/><polygon fill="#455a64" points="34.7,21 41,17 39,13.8 34.8,16.4 29.8,13 34.8,9.6 39,12.2 41,9 34.7,5 23.1,13" id="polygon768"/><polygon fill="#455a64" points="25,39 16,11 9,11 18,39" id="polygon770"/></g><g id="g782"><g id="g776"><path fill="#ffc107" d="M22.6 30.9C22.2 30.3 21.6 30 20.9 30H19c-.7.0-1.3.3-1.7.9L12 39H28zM20 36c-1.1.0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z" id="path774"/></g><path fill="#ffc107" d="m13 7c-3.3.0-6 2.7-6 6s2.7 6 6 6 6-2.7 6-6-2.7-6-6-6zm0 8c-1.1.0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z" id="path778"/><path fill="#ffc107" d="m30 18h-3c-1.1.0-2-.9-2-2v-6c0-1.1.9-2 2-2h3z" id="path780"/></g></g><text style="font-style:normal;font-weight:400;font-size:40px;line-height:1.25;font-family:sans-serif;fill:#000;fill-opacity:1;stroke:none" x="236.19307" y="203.47675" id="text1068"><tspan sodipodi:role="line" id="tspan1066" x="236.19307" y="203.47675" style="font-style:italic;font-variant:normal;font-weight:700;font-stretch:normal;font-size:40px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Bold Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal">Motion Control</tspan><tspan sodipodi:role="line" x="236.19307" y="253.47675" style="font-style:italic;font-variant:normal;font-weight:700;font-stretch:normal;font-size:40px;font-family:sans-serif;-inkscape-font-specification:'sans-serif, Bold Italic';font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal" id="tspan3794">config</tspan></text></svg></a></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label>
<input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script type=text/javascript src=../../../js/lunr.min.js?1628774329></script><script type=text/javascript src=../../../js/auto-complete.js?1628774329></script><script type=text/javascript>var baseurl=""</script><script type=text/javascript src=../../../js/search.js?1628774329></script></div><section id=homelinks><ul><li><a class=padding href=../../../><i class="fas fa-home"></i> Home</a></li></ul></section><div class=highlightable><ul class=topics><li data-nav-id=/source/ title=source class="dd-item
parent"><a href=../../../source/>source</a><ul><li data-nav-id=/source/general/ title=general class=dd-item><a href=../../../source/general/>general</a><ul><li data-nav-id=/source/general/chkoversampfactordie/ title=chkOverSampFactOrDie.cmd class=dd-item><a href=../../../source/general/chkoversampfactordie/>chkOverSampFactOrDie.cmd</a></li><li data-nav-id=/source/general/chkoversamptimeordie/ title=chkOverSampTimeOrDie.cmd class=dd-item><a href=../../../source/general/chkoversamptimeordie/>chkOverSampTimeOrDie.cmd</a></li><li data-nav-id=/source/general/chkvalidcurrentsetordie/ title=chkValidCurrentSetOrDie.cmd class=dd-item><a href=../../../source/general/chkvalidcurrentsetordie/>chkValidCurrentSetOrDie.cmd</a></li><li data-nav-id=/source/general/general/ title=general.cmd class=dd-item><a href=../../../source/general/general/>general.cmd</a></li><li data-nav-id=/source/general/generaldiagnostics/ title=generalDiagnostics.cmd class=dd-item><a href=../../../source/general/generaldiagnostics/>generalDiagnostics.cmd</a></li><li data-nav-id=/source/general/init/ title=init.cmd class=dd-item><a href=../../../source/general/init/>init.cmd</a></li><li data-nav-id=/source/general/initall/ title=initAll.cmd class=dd-item><a href=../../../source/general/initall/>initAll.cmd</a></li><li data-nav-id=/source/general/initaxis/ title=initAxis.cmd class=dd-item><a href=../../../source/general/initaxis/>initAxis.cmd</a></li><li data-nav-id=/source/general/issuewarning/ title=issueWarning.cmd class=dd-item><a href=../../../source/general/issuewarning/>issueWarning.cmd</a></li><li data-nav-id=/source/general/verifyordie/ title=verifyOrDie.cmd class=dd-item><a href=../../../source/general/verifyordie/>verifyOrDie.cmd</a></li></ul></li><li data-nav-id=/source/motion/ title=motion class=dd-item><a href=../../../source/motion/>motion</a><ul><li data-nav-id=/source/motion/ecmc_axis-records/ title=ecmc_axis-records.cmd class=dd-item><a href=../../../source/motion/ecmc_axis-records/>ecmc_axis-records.cmd</a></li><li data-nav-id=/source/motion/ecmc_axis/ title=ecmc_axis.cmd class=dd-item><a href=../../../source/motion/ecmc_axis/>ecmc_axis.cmd</a></li><li data-nav-id=/source/motion/ecmc_axis_diag/ title=ecmc_axis_diag.cmd class=dd-item><a href=../../../source/motion/ecmc_axis_diag/>ecmc_axis_diag.cmd</a></li><li data-nav-id=/source/motion/ecmc_axis_sync/ title=ecmc_axis_sync.cmd class=dd-item><a href=../../../source/motion/ecmc_axis_sync/>ecmc_axis_sync.cmd</a></li><li data-nav-id=/source/motion/ecmc_virt_axis-records/ title=ecmc_virt_axis-records.cmd class=dd-item><a href=../../../source/motion/ecmc_virt_axis-records/>ecmc_virt_axis-records.cmd</a></li><li data-nav-id=/source/motion/ecmc_virt_axis/ title=ecmc_virt_axis.cmd class=dd-item><a href=../../../source/motion/ecmc_virt_axis/>ecmc_virt_axis.cmd</a></li><li data-nav-id=/source/motion/ecmc_axis_sync_unset/ title class=dd-item><a href=../../../source/motion/ecmc_axis_sync_unset/></a></li><li data-nav-id=/source/motion/ecmc_axis_unset/ title class=dd-item><a href=../../../source/motion/ecmc_axis_unset/></a></li><li data-nav-id=/source/motion/ecmc_virt_axis_unset/ title class=dd-item><a href=../../../source/motion/ecmc_virt_axis_unset/></a></li></ul></li><li data-nav-id=/source/naming/ title=naming class=dd-item><a href=../../../source/naming/>naming</a><ul><li data-nav-id=/source/naming/ecmcclassicnaming/ title=ecmcClassicNaming.cmd class=dd-item><a href=../../../source/naming/ecmcclassicnaming/>ecmcClassicNaming.cmd</a></li><li data-nav-id=/source/naming/ecmcmxsxxx/ title=ecmcmXsXXX.cmd class=dd-item><a href=../../../source/naming/ecmcmxsxxx/>ecmcmXsXXX.cmd</a></li></ul></li><li data-nav-id=/source/scripts/ title=scripts class="dd-item
parent"><a href=../../../source/scripts/>scripts</a><ul><li data-nav-id=/source/scripts/addaxis/ title=addAxis.cmd class=dd-item><a href=../../../source/scripts/addaxis/>addAxis.cmd</a></li><li data-nav-id=/source/scripts/adddatastorage/ title=addDataStorage.cmd class=dd-item><a href=../../../source/scripts/adddatastorage/>addDataStorage.cmd</a></li><li data-nav-id=/source/scripts/addmaster/ title=addMaster.cmd class=dd-item><a href=../../../source/scripts/addmaster/>addMaster.cmd</a></li><li data-nav-id=/source/scripts/addslave/ title=addSlave.cmd class=dd-item><a href=../../../source/scripts/addslave/>addSlave.cmd</a></li><li data-nav-id=/source/scripts/addslavekl/ title=addSlaveKL.cmd class="dd-item active"><a href=../../../source/scripts/addslavekl/>addSlaveKL.cmd</a></li><li data-nav-id=/source/scripts/addvirtualaxis/ title=addVirtualAxis.cmd class=dd-item><a href=../../../source/scripts/addvirtualaxis/>addVirtualAxis.cmd</a></li><li data-nav-id=/source/scripts/applyaxissynchronization/ title=applyAxisSynchronization.cmd class=dd-item><a href=../../../source/scripts/applyaxissynchronization/>applyAxisSynchronization.cmd</a></li><li data-nav-id=/source/scripts/applyconfig/ title=applyConfig.cmd class=dd-item><a href=../../../source/scripts/applyconfig/>applyConfig.cmd</a></li><li data-nav-id=/source/scripts/applyslaveconfig/ title=applySlaveConfig.cmd class=dd-item><a href=../../../source/scripts/applyslaveconfig/>applySlaveConfig.cmd</a></li><li data-nav-id=/source/scripts/applyslavedcconfig/ title=applySlaveDCconfig.cmd class=dd-item><a href=../../../source/scripts/applyslavedcconfig/>applySlaveDCconfig.cmd</a></li><li data-nav-id=/source/scripts/applysubstitutions/ title=applySubstitutions.cmd class=dd-item><a href=../../../source/scripts/applysubstitutions/>applySubstitutions.cmd</a></li><li data-nav-id=/source/scripts/applytemplate/ title=applyTemplate.cmd class=dd-item><a href=../../../source/scripts/applytemplate/>applyTemplate.cmd</a></li><li data-nav-id=/source/scripts/configureaxis/ title=configureAxis.cmd class=dd-item><a href=../../../source/scripts/configureaxis/>configureAxis.cmd</a></li><li data-nav-id=/source/scripts/configureslave/ title=configureSlave.cmd class=dd-item><a href=../../../source/scripts/configureslave/>configureSlave.cmd</a></li><li data-nav-id=/source/scripts/configurevirtualaxis/ title=configureVirtualAxis.cmd class=dd-item><a href=../../../source/scripts/configurevirtualaxis/>configureVirtualAxis.cmd</a></li><li data-nav-id=/source/scripts/jinja2/ title=jinja2 class=dd-item><a href=../../../source/scripts/jinja2/>jinja2</a><ul><li data-nav-id=/source/scripts/jinja2/addaxisyaml/ title=addAxisYaml.cmd class=dd-item><a href=../../../source/scripts/jinja2/addaxisyaml/>addAxisYaml.cmd</a></li><li data-nav-id=/source/scripts/jinja2/loadyamlplc/ title=loadYamlPlc.cmd class=dd-item><a href=../../../source/scripts/jinja2/loadyamlplc/>loadYamlPlc.cmd</a></li></ul></li><li data-nav-id=/source/scripts/loadplcfile/ title=loadPLCFile.cmd class=dd-item><a href=../../../source/scripts/loadplcfile/>loadPLCFile.cmd</a></li><li data-nav-id=/source/scripts/loadplugin/ title=loadPlugin.cmd class=dd-item><a href=../../../source/scripts/loadplugin/>loadPlugin.cmd</a></li><li data-nav-id=/source/scripts/setappmode/ title=setAppMode.cmd class=dd-item><a href=../../../source/scripts/setappmode/>setAppMode.cmd</a></li><li data-nav-id=/source/scripts/setdiagnostics/ title=setDiagnostics.cmd class=dd-item><a href=../../../source/scripts/setdiagnostics/>setDiagnostics.cmd</a></li><li data-nav-id=/source/scripts/slaveverify/ title=slaveVerify.cmd class=dd-item><a href=../../../source/scripts/slaveverify/>slaveVerify.cmd</a></li><li data-nav-id=/source/scripts/empty/ title class=dd-item><a href=../../../source/scripts/empty/></a></li></ul></li><li data-nav-id=/source/startup/ title class=dd-item><a href=../../../source/startup/></a></li></ul></li></ul><section id=footer><p>Built with <a href=https://github.com/matcornic/hugo-theme-learn><i class="fas fa-heart"></i></a> from <a href=https://getgrav.org>Grav</a> and <a href=https://gohugo.io/>Hugo</a></p></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i></a></span>
<span id=toc-menu><i class="fas fa-list-alt"></i></span>
<span class=links><a href=../../../>ecmccfg</a> > <a href=../../../source/>source</a> > <a href=../../../source/scripts/>scripts</a> > addSlaveKL.cmd</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><ul><li><a href=#description>description</a></li><li><a href=#author>author</a></li><li><a href=#paramters>paramters</a></li></ul></li></ul></nav></div></div></div></div><div id=head-tags></div><div id=body-inner><h1>addSlaveKL.cmd</h1><h3 id=description>description</h3><p><strong>Script for adding a slave to the EtherCAT bus configuration of KL type.</strong></p><h4 id=details>details</h4><p>Adds the respective hardware to the bus configuration, adds specific and default PV to the EPICS database. For some/most
slaves also a default</p><h3 id=author>author</h3><p>Anders Sandstrom</p><hr><h3 id=paramters>paramters</h3><p><strong>HW_DESC</strong> Hardware descriptor, i.e. KL2032<br><strong>SLAVE_ID</strong> EtherCAT bus position of the BK1250 (or similar terminal)<br><strong>SLAVE_ID_KL</strong> KL-Bus index in two digit hex starting at zero for the first slave <em>after</em> BK1250 (or similar terminal)<br><strong>SUBST_FILE</strong> (optional) substitution file</p><hr><p>Example calls:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#e6db74>${</span>SCRIPTEXEC<span style=color:#e6db74>}</span> <span style=color:#e6db74>${</span>ecmccfg_DIR<span style=color:#e6db74>}</span>addSlave.cmd,       <span style=color:#e6db74>&#34;HW_DESC=EL1018, SLAVE_ID=1, SLAVE_ID_KL=0A&#34;</span>
</code></pre></div><footer class=footline></footer></div></div><div id=navigation><a class="nav nav-prev" href=../../../source/scripts/addslave/ title=addSlave.cmd><i class="fa fa-chevron-left"></i></a>
<a class="nav nav-next" href=../../../source/scripts/addvirtualaxis/ title=addVirtualAxis.cmd style=margin-right:0><i class="fa fa-chevron-right"></i></a></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=../../../js/clipboard.min.js?1628774329></script><script src=../../../js/perfect-scrollbar.min.js?1628774329></script><script src=../../../js/perfect-scrollbar.jquery.min.js?1628774329></script><script src=../../../js/jquery.sticky.js?1628774329></script><script src=../../../js/featherlight.min.js?1628774329></script><script src=../../../js/highlight.pack.js?1628774329></script><script>hljs.initHighlightingOnLoad()</script><script src=../../../js/modernizr.custom-3.6.0.js?1628774329></script><script src=../../../js/learn.js?1628774329></script><script src=../../../js/hugo-learn.js?1628774329></script><script src=../../../mermaid/mermaid.js?1628774329></script><script>mermaid.initialize({startOnLoad:!0})</script></body></html>